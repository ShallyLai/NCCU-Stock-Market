Listening on port 3000
connected as id 73
myFetch SQL query:  delete from BuyOrder where order_id not in (select tbuy_order_id from MyTransaction) and Date(time)<curDate();
result after promisePool: 
[
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 0,
    insertId: 0,
    info: '',
    serverStatus: 34,
    warningStatus: 0
  }
]
ResultSetHeader {
  fieldCount: 0,
  affectedRows: 0,
  insertId: 0,
  info: '',
  serverStatus: 34,
  warningStatus: 0
}
myFetch SQL query:  delete from SellOrder where order_id not in (select tsell_order_id from MyTransaction) and Date(time)<curDate();
result after promisePool: 
[
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 0,
    insertId: 0,
    info: '',
    serverStatus: 34,
    warningStatus: 0
  }
]
ResultSetHeader {
  fieldCount: 0,
  affectedRows: 0,
  insertId: 0,
  info: '',
  serverStatus: 34,
  warningStatus: 0
}
reset
result:[object Object]
post login
req.body:
{ user_name: 'shallylai', password: '5790' }

SQL query:  select * from User where user_name='shallylai';
db results:
[
  {
    user_id: 2,
    user_name: 'shallylai',
    password: '5790',
    money: 1005683
  }
]
found user

connection closed...
get Money
req.body:
{ user_id: '2' }

SQL query:  select money from User where user_id = 2;
db results:
[ { money: 1005683 } ]
get money
result
{ status: 200, msg: 'get money', money: 1005683 }

connection closed...
get my transaction
req.body
{ user_id: '2' }
myFetch SQL query:  select company_name, MyTransaction.price, MyTransaction.num, finish_time from User, BuyOrder, MyTransaction, Company where 2 = user_id AND user_id = buser_id AND order_id = tbuy_order_id AND tstock_id = company_id;
get my order
{ user_id: '2' }
handle request user:2
myFetch SQL query:  select * from BuyOrder where buser_id=2 and Date(time)=curDate();
result after promisePool: 
[
  [
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 56, 1, 2022-01-16T15:48:01.000Z ],
    [ '資科系', 57, 1, 2022-01-16T15:48:26.000Z ],
    [ '資科系', 55, -1, 2022-01-16T15:49:53.000Z ]
  ]
]
Buy Transaction Get 
myFetch SQL query:  select company_name, MyTransaction.price, MyTransaction.num, finish_time from User, SellOrder, MyTransaction, Company where 2 = user_id AND user_id = suser_id AND order_id = tsell_order_id AND tstock_id = company_id;
result after promisePool: 
[
  [
    [ '資科系', 52, 1, 2022-01-16T15:43:39.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 54, 1, 2022-01-16T15:44:55.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:49:53.000Z ],
    [ '資科系', 55, -1, 2022-01-16T15:49:53.000Z ],
    [ '資科系', 54, 1, 2022-01-16T15:50:53.000Z ]
  ]
]
Sell Transaction Get 
callback response
{
  status: 200,
  msg: 'get transaction',
  stock_name: [
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系'
  ],
  BuyOrSell: [
    'TRUE',  'TRUE',
    'TRUE',  'TRUE',
    'TRUE',  'FALSE',
    'FALSE', 'FALSE',
    'FALSE', 'FALSE',
    'FALSE'
  ],
  TransactionPrice: [
    55, 55, 56, 57, 55,
    52, 55, 54, 55, 55,
    54
  ],
  num: [
    1, 1, 1, 1, -1,
    1, 1, 1, 1, -1,
    1
  ],
  TransactionTime: [
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:48:01.000Z,
    2022-01-16T15:48:26.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:43:39.000Z,
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:44:55.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:50:53.000Z
  ]
}
result after promisePool: 
[ [ [ 5, 703, 60, 80, 2022-01-18T16:00:00.000Z, 2 ] ] ]
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[ [ [ '資科系' ] ] ]
buy company name:
資科系
myFetch SQL query:  select * from SellOrder where suser_id=2 and Date(time)=curDate();
result after promisePool: 
[
  [
    [ 9, 703, 4, 60, 2022-01-19T02:10:10.000Z, 2 ],
    [ 10, 101, 4, 30, 2022-01-19T03:11:11.000Z, 2 ],
    [ 12, 703, 2, 90, 2022-01-19T11:43:43.000Z, 2 ]
  ]
]
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[ [ [ '資科系' ] ] ]
sell company name:
資科系
myFetch SQL query:  select company_name from Company where company_id = 101;
result after promisePool: 
[ [ [ '中文系' ] ] ]
sell company name:
中文系
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[ [ [ '資科系' ] ] ]
sell company name:
資科系
{
  status: 200,
  msg: 'get order',
  buy_order_id: [ 5 ],
  buy_stock_id: [ 703 ],
  buy_name: [ '資科系' ],
  buy_num: [ 60 ],
  buy_price: [ 80 ],
  buy_time: [ 2022-01-18T16:00:00.000Z ],
  sell_order_id: [ 9, 10, 12 ],
  sell_stock_id: [ 703, 101, 703 ],
  sell_name: [ '資科系', '中文系', '資科系' ],
  sell_num: [ 4, 4, 2 ],
  sell_price: [ 60, 30, 90 ],
  sell_time: [
    2022-01-19T02:10:10.000Z,
    2022-01-19T03:11:11.000Z,
    2022-01-19T11:43:43.000Z
  ]
}

---callback---

getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 99, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 99 ], [ 52 ] ] ]

703
2
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 99 ], [ 52 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:31:32', price: 56 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:32:40', price: 55 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:35:59', price: 54 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:22:53', price: 53 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:23:23', price: 54 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:24:36', price: 55 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:27:45', price: 54 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:30:15', price: 53 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:30:45', price: 52 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:56:23', price: 53 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:43:39', price: 52 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:44:03', price: 51 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:44:55', price: 54 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:47:04', price: 55 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:48:01', price: 56 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:48:26', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:48:56', price: 56 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:49:53', price: 55 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:50:53', price: 54 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '23:51:41', price: 52 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:43:43', price: 99 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:43:43', price: 52 }
]
703's history
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:39:46
timeobject: Sun Jan 16 2022 15:39:46 GMT+0800 (台北標準時間)
1642318786000
mytime 2022-01-16 15:45:00
timeobject: Sun Jan 16 2022 15:45:00 GMT+0800 (台北標準時間)
1642319100000
mytime 2022-01-16 15:47:12
timeobject: Sun Jan 16 2022 15:47:12 GMT+0800 (台北標準時間)
1642319232000
mytime 2022-01-16 15:47:44
timeobject: Sun Jan 16 2022 15:47:44 GMT+0800 (台北標準時間)
1642319264000
mytime 2022-01-16 15:48:44
timeobject: Sun Jan 16 2022 15:48:44 GMT+0800 (台北標準時間)
1642319324000
mytime 2022-01-16 16:30:51
timeobject: Sun Jan 16 2022 16:30:51 GMT+0800 (台北標準時間)
1642321851000
mytime 2022-01-16 16:31:01
timeobject: Sun Jan 16 2022 16:31:01 GMT+0800 (台北標準時間)
1642321861000
mytime 2022-01-16 16:31:32
timeobject: Sun Jan 16 2022 16:31:32 GMT+0800 (台北標準時間)
1642321892000
mytime 2022-01-16 16:32:40
timeobject: Sun Jan 16 2022 16:32:40 GMT+0800 (台北標準時間)
1642321960000
mytime 2022-01-16 16:35:59
timeobject: Sun Jan 16 2022 16:35:59 GMT+0800 (台北標準時間)
1642322159000
mytime 2022-01-16 17:22:53
timeobject: Sun Jan 16 2022 17:22:53 GMT+0800 (台北標準時間)
1642324973000
mytime 2022-01-16 17:23:23
timeobject: Sun Jan 16 2022 17:23:23 GMT+0800 (台北標準時間)
1642325003000
mytime 2022-01-16 17:24:36
timeobject: Sun Jan 16 2022 17:24:36 GMT+0800 (台北標準時間)
1642325076000
mytime 2022-01-16 17:27:45
timeobject: Sun Jan 16 2022 17:27:45 GMT+0800 (台北標準時間)
1642325265000
mytime 2022-01-16 17:30:15
timeobject: Sun Jan 16 2022 17:30:15 GMT+0800 (台北標準時間)
1642325415000
mytime 2022-01-16 17:30:45
timeobject: Sun Jan 16 2022 17:30:45 GMT+0800 (台北標準時間)
1642325445000
mytime 2022-01-16 17:50:48
timeobject: Sun Jan 16 2022 17:50:48 GMT+0800 (台北標準時間)
1642326648000
mytime 2022-01-16 17:51:30
timeobject: Sun Jan 16 2022 17:51:30 GMT+0800 (台北標準時間)
1642326690000
mytime 2022-01-16 17:56:23
timeobject: Sun Jan 16 2022 17:56:23 GMT+0800 (台北標準時間)
1642326983000
mytime 2022-01-16 23:43:39
timeobject: Sun Jan 16 2022 23:43:39 GMT+0800 (台北標準時間)
1642347819000
mytime 2022-01-16 23:44:03
timeobject: Sun Jan 16 2022 23:44:03 GMT+0800 (台北標準時間)
1642347843000
mytime 2022-01-16 23:44:55
timeobject: Sun Jan 16 2022 23:44:55 GMT+0800 (台北標準時間)
1642347895000
mytime 2022-01-16 23:47:04
timeobject: Sun Jan 16 2022 23:47:04 GMT+0800 (台北標準時間)
1642348024000
mytime 2022-01-16 23:48:01
timeobject: Sun Jan 16 2022 23:48:01 GMT+0800 (台北標準時間)
1642348081000
mytime 2022-01-16 23:48:26
timeobject: Sun Jan 16 2022 23:48:26 GMT+0800 (台北標準時間)
1642348106000
mytime 2022-01-16 23:48:56
timeobject: Sun Jan 16 2022 23:48:56 GMT+0800 (台北標準時間)
1642348136000
mytime 2022-01-16 23:49:53
timeobject: Sun Jan 16 2022 23:49:53 GMT+0800 (台北標準時間)
1642348193000
mytime 2022-01-16 23:50:53
timeobject: Sun Jan 16 2022 23:50:53 GMT+0800 (台北標準時間)
1642348253000
mytime 2022-01-16 23:51:41
timeobject: Sun Jan 16 2022 23:51:41 GMT+0800 (台北標準時間)
1642348301000
mytime 2022-01-19 19:43:43
timeobject: Wed Jan 19 2022 19:43:43 GMT+0800 (台北標準時間)
1642592623000
mytime 2022-01-19 19:43:43
timeobject: Wed Jan 19 2022 19:43:43 GMT+0800 (台北標準時間)
1642592623000

connection closed...
getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '16:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '16:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:39:46
timeobject: Sun Jan 16 2022 15:39:46 GMT+0800 (台北標準時間)
1642318786000
mytime 2022-01-16 15:45:00
timeobject: Sun Jan 16 2022 15:45:00 GMT+0800 (台北標準時間)
1642319100000
mytime 2022-01-16 15:47:12
timeobject: Sun Jan 16 2022 15:47:12 GMT+0800 (台北標準時間)
1642319232000
mytime 2022-01-16 15:47:44
timeobject: Sun Jan 16 2022 15:47:44 GMT+0800 (台北標準時間)
1642319264000
mytime 2022-01-16 15:48:44
timeobject: Sun Jan 16 2022 15:48:44 GMT+0800 (台北標準時間)
1642319324000
mytime 2022-01-16 16:30:51
timeobject: Sun Jan 16 2022 16:30:51 GMT+0800 (台北標準時間)
1642321851000
mytime 2022-01-16 16:31:01
timeobject: Sun Jan 16 2022 16:31:01 GMT+0800 (台北標準時間)
1642321861000
mytime 2022-01-16 16:31:32
timeobject: Sun Jan 16 2022 16:31:32 GMT+0800 (台北標準時間)
1642321892000
mytime 2022-01-17 16:32:40
timeobject: Mon Jan 17 2022 16:32:40 GMT+0800 (台北標準時間)
1642408360000
mytime 2022-01-17 16:35:59
timeobject: Mon Jan 17 2022 16:35:59 GMT+0800 (台北標準時間)
1642408559000
mytime 2022-01-17 17:22:53
timeobject: Mon Jan 17 2022 17:22:53 GMT+0800 (台北標準時間)
1642411373000
mytime 2022-01-17 17:23:23
timeobject: Mon Jan 17 2022 17:23:23 GMT+0800 (台北標準時間)
1642411403000
mytime 2022-01-17 17:24:36
timeobject: Mon Jan 17 2022 17:24:36 GMT+0800 (台北標準時間)
1642411476000
mytime 2022-01-17 17:27:45
timeobject: Mon Jan 17 2022 17:27:45 GMT+0800 (台北標準時間)
1642411665000
mytime 2022-01-17 17:30:15
timeobject: Mon Jan 17 2022 17:30:15 GMT+0800 (台北標準時間)
1642411815000
mytime 2022-01-17 17:30:45
timeobject: Mon Jan 17 2022 17:30:45 GMT+0800 (台北標準時間)
1642411845000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 23:43:39
timeobject: Tue Jan 18 2022 23:43:39 GMT+0800 (台北標準時間)
1642520619000
mytime 2022-01-18 23:44:03
timeobject: Tue Jan 18 2022 23:44:03 GMT+0800 (台北標準時間)
1642520643000
mytime 2022-01-18 23:44:55
timeobject: Tue Jan 18 2022 23:44:55 GMT+0800 (台北標準時間)
1642520695000
mytime 2022-01-18 23:47:04
timeobject: Tue Jan 18 2022 23:47:04 GMT+0800 (台北標準時間)
1642520824000
mytime 2022-01-18 23:48:01
timeobject: Tue Jan 18 2022 23:48:01 GMT+0800 (台北標準時間)
1642520881000
mytime 2022-01-18 23:48:26
timeobject: Tue Jan 18 2022 23:48:26 GMT+0800 (台北標準時間)
1642520906000
mytime 2022-01-18 23:48:56
timeobject: Tue Jan 18 2022 23:48:56 GMT+0800 (台北標準時間)
1642520936000
mytime 2022-01-18 23:49:53
timeobject: Tue Jan 18 2022 23:49:53 GMT+0800 (台北標準時間)
1642520993000
mytime 2022-01-18 23:50:53
timeobject: Tue Jan 18 2022 23:50:53 GMT+0800 (台北標準時間)
1642521053000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 19:27:43
timeobject: Wed Jan 19 2022 19:27:43 GMT+0800 (台北標準時間)
1642591663000
mytime 2022-01-19 19:28:43
timeobject: Wed Jan 19 2022 19:28:43 GMT+0800 (台北標準時間)
1642591723000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '18:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '19:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:39:46
timeobject: Sun Jan 16 2022 15:39:46 GMT+0800 (台北標準時間)
1642318786000
mytime 2022-01-16 15:45:00
timeobject: Sun Jan 16 2022 15:45:00 GMT+0800 (台北標準時間)
1642319100000
mytime 2022-01-16 15:47:12
timeobject: Sun Jan 16 2022 15:47:12 GMT+0800 (台北標準時間)
1642319232000
mytime 2022-01-16 15:47:44
timeobject: Sun Jan 16 2022 15:47:44 GMT+0800 (台北標準時間)
1642319264000
mytime 2022-01-16 16:48:44
timeobject: Sun Jan 16 2022 16:48:44 GMT+0800 (台北標準時間)
1642322924000
mytime 2022-01-16 17:30:51
timeobject: Sun Jan 16 2022 17:30:51 GMT+0800 (台北標準時間)
1642325451000
mytime 2022-01-16 18:31:01
timeobject: Sun Jan 16 2022 18:31:01 GMT+0800 (台北標準時間)
1642329061000
mytime 2022-01-16 19:31:32
timeobject: Sun Jan 16 2022 19:31:32 GMT+0800 (台北標準時間)
1642332692000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 19:51:30
timeobject: Mon Jan 17 2022 19:51:30 GMT+0800 (台北標準時間)
1642420290000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 23:43:39
timeobject: Tue Jan 18 2022 23:43:39 GMT+0800 (台北標準時間)
1642520619000
mytime 2022-01-18 23:44:03
timeobject: Tue Jan 18 2022 23:44:03 GMT+0800 (台北標準時間)
1642520643000
mytime 2022-01-18 23:44:55
timeobject: Tue Jan 18 2022 23:44:55 GMT+0800 (台北標準時間)
1642520695000
mytime 2022-01-18 23:47:04
timeobject: Tue Jan 18 2022 23:47:04 GMT+0800 (台北標準時間)
1642520824000
mytime 2022-01-18 23:48:01
timeobject: Tue Jan 18 2022 23:48:01 GMT+0800 (台北標準時間)
1642520881000
mytime 2022-01-18 23:48:26
timeobject: Tue Jan 18 2022 23:48:26 GMT+0800 (台北標準時間)
1642520906000
mytime 2022-01-18 23:48:56
timeobject: Tue Jan 18 2022 23:48:56 GMT+0800 (台北標準時間)
1642520936000
mytime 2022-01-18 23:49:53
timeobject: Tue Jan 18 2022 23:49:53 GMT+0800 (台北標準時間)
1642520993000
mytime 2022-01-18 23:50:53
timeobject: Tue Jan 18 2022 23:50:53 GMT+0800 (台北標準時間)
1642521053000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 19:27:43
timeobject: Wed Jan 19 2022 19:27:43 GMT+0800 (台北標準時間)
1642591663000
mytime 2022-01-19 19:28:43
timeobject: Wed Jan 19 2022 19:28:43 GMT+0800 (台北標準時間)
1642591723000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '18:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '19:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:39:46
timeobject: Sun Jan 16 2022 15:39:46 GMT+0800 (台北標準時間)
1642318786000
mytime 2022-01-16 15:45:00
timeobject: Sun Jan 16 2022 15:45:00 GMT+0800 (台北標準時間)
1642319100000
mytime 2022-01-16 15:47:12
timeobject: Sun Jan 16 2022 15:47:12 GMT+0800 (台北標準時間)
1642319232000
mytime 2022-01-16 15:47:44
timeobject: Sun Jan 16 2022 15:47:44 GMT+0800 (台北標準時間)
1642319264000
mytime 2022-01-16 16:48:44
timeobject: Sun Jan 16 2022 16:48:44 GMT+0800 (台北標準時間)
1642322924000
mytime 2022-01-16 17:30:51
timeobject: Sun Jan 16 2022 17:30:51 GMT+0800 (台北標準時間)
1642325451000
mytime 2022-01-16 18:31:01
timeobject: Sun Jan 16 2022 18:31:01 GMT+0800 (台北標準時間)
1642329061000
mytime 2022-01-16 19:31:32
timeobject: Sun Jan 16 2022 19:31:32 GMT+0800 (台北標準時間)
1642332692000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 19:51:30
timeobject: Mon Jan 17 2022 19:51:30 GMT+0800 (台北標準時間)
1642420290000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 19:27:43
timeobject: Wed Jan 19 2022 19:27:43 GMT+0800 (台北標準時間)
1642591663000
mytime 2022-01-19 19:28:43
timeobject: Wed Jan 19 2022 19:28:43 GMT+0800 (台北標準時間)
1642591723000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '18:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:39:46
timeobject: Sun Jan 16 2022 15:39:46 GMT+0800 (台北標準時間)
1642318786000
mytime 2022-01-16 15:45:00
timeobject: Sun Jan 16 2022 15:45:00 GMT+0800 (台北標準時間)
1642319100000
mytime 2022-01-16 15:47:12
timeobject: Sun Jan 16 2022 15:47:12 GMT+0800 (台北標準時間)
1642319232000
mytime 2022-01-16 15:47:44
timeobject: Sun Jan 16 2022 15:47:44 GMT+0800 (台北標準時間)
1642319264000
mytime 2022-01-16 16:48:44
timeobject: Sun Jan 16 2022 16:48:44 GMT+0800 (台北標準時間)
1642322924000
mytime 2022-01-16 17:30:51
timeobject: Sun Jan 16 2022 17:30:51 GMT+0800 (台北標準時間)
1642325451000
mytime 2022-01-16 18:31:01
timeobject: Sun Jan 16 2022 18:31:01 GMT+0800 (台北標準時間)
1642329061000
mytime 2022-01-16 19:31:32
timeobject: Sun Jan 16 2022 19:31:32 GMT+0800 (台北標準時間)
1642332692000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 19:27:43
timeobject: Wed Jan 19 2022 19:27:43 GMT+0800 (台北標準時間)
1642591663000
mytime 2022-01-19 19:28:43
timeobject: Wed Jan 19 2022 19:28:43 GMT+0800 (台北標準時間)
1642591723000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '15:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '18:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '11:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '18:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:34:49
timeobject: Sun Jan 16 2022 15:34:49 GMT+0800 (台北標準時間)
1642318489000
mytime 2022-01-16 15:39:46
timeobject: Sun Jan 16 2022 15:39:46 GMT+0800 (台北標準時間)
1642318786000
mytime 2022-01-16 15:45:00
timeobject: Sun Jan 16 2022 15:45:00 GMT+0800 (台北標準時間)
1642319100000
mytime 2022-01-16 15:47:12
timeobject: Sun Jan 16 2022 15:47:12 GMT+0800 (台北標準時間)
1642319232000
mytime 2022-01-16 15:47:44
timeobject: Sun Jan 16 2022 15:47:44 GMT+0800 (台北標準時間)
1642319264000
mytime 2022-01-16 16:48:44
timeobject: Sun Jan 16 2022 16:48:44 GMT+0800 (台北標準時間)
1642322924000
mytime 2022-01-16 17:30:51
timeobject: Sun Jan 16 2022 17:30:51 GMT+0800 (台北標準時間)
1642325451000
mytime 2022-01-16 18:31:01
timeobject: Sun Jan 16 2022 18:31:01 GMT+0800 (台北標準時間)
1642329061000
mytime 2022-01-16 19:31:32
timeobject: Sun Jan 16 2022 19:31:32 GMT+0800 (台北標準時間)
1642332692000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 11:27:43
timeobject: Wed Jan 19 2022 11:27:43 GMT+0800 (台北標準時間)
1642562863000
mytime 2022-01-19 18:28:43
timeobject: Wed Jan 19 2022 18:28:43 GMT+0800 (台北標準時間)
1642588123000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '10:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '14:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '20:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '21:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '11:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '18:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 10:34:49
timeobject: Sun Jan 16 2022 10:34:49 GMT+0800 (台北標準時間)
1642300489000
mytime 2022-01-16 12:34:49
timeobject: Sun Jan 16 2022 12:34:49 GMT+0800 (台北標準時間)
1642307689000
mytime 2022-01-16 12:39:46
timeobject: Sun Jan 16 2022 12:39:46 GMT+0800 (台北標準時間)
1642307986000
mytime 2022-01-16 14:45:00
timeobject: Sun Jan 16 2022 14:45:00 GMT+0800 (台北標準時間)
1642315500000
mytime 2022-01-16 16:47:12
timeobject: Sun Jan 16 2022 16:47:12 GMT+0800 (台北標準時間)
1642322832000
mytime 2022-01-16 17:47:44
timeobject: Sun Jan 16 2022 17:47:44 GMT+0800 (台北標準時間)
1642326464000
mytime 2022-01-16 17:48:44
timeobject: Sun Jan 16 2022 17:48:44 GMT+0800 (台北標準時間)
1642326524000
mytime 2022-01-16 19:30:51
timeobject: Sun Jan 16 2022 19:30:51 GMT+0800 (台北標準時間)
1642332651000
mytime 2022-01-16 20:31:01
timeobject: Sun Jan 16 2022 20:31:01 GMT+0800 (台北標準時間)
1642336261000
mytime 2022-01-16 21:31:32
timeobject: Sun Jan 16 2022 21:31:32 GMT+0800 (台北標準時間)
1642339892000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 11:27:43
timeobject: Wed Jan 19 2022 11:27:43 GMT+0800 (台北標準時間)
1642562863000
mytime 2022-01-19 18:28:43
timeobject: Wed Jan 19 2022 18:28:43 GMT+0800 (台北標準時間)
1642588123000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '10:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '14:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '20:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '21:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '11:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '18:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 10:34:49
timeobject: Sun Jan 16 2022 10:34:49 GMT+0800 (台北標準時間)
1642300489000
mytime 2022-01-16 12:34:49
timeobject: Sun Jan 16 2022 12:34:49 GMT+0800 (台北標準時間)
1642307689000
mytime 2022-01-16 12:39:46
timeobject: Sun Jan 16 2022 12:39:46 GMT+0800 (台北標準時間)
1642307986000
mytime 2022-01-16 14:45:00
timeobject: Sun Jan 16 2022 14:45:00 GMT+0800 (台北標準時間)
1642315500000
mytime 2022-01-16 16:47:12
timeobject: Sun Jan 16 2022 16:47:12 GMT+0800 (台北標準時間)
1642322832000
mytime 2022-01-16 17:47:44
timeobject: Sun Jan 16 2022 17:47:44 GMT+0800 (台北標準時間)
1642326464000
mytime 2022-01-16 17:48:44
timeobject: Sun Jan 16 2022 17:48:44 GMT+0800 (台北標準時間)
1642326524000
mytime 2022-01-16 19:30:51
timeobject: Sun Jan 16 2022 19:30:51 GMT+0800 (台北標準時間)
1642332651000
mytime 2022-01-16 20:31:01
timeobject: Sun Jan 16 2022 20:31:01 GMT+0800 (台北標準時間)
1642336261000
mytime 2022-01-16 21:31:32
timeobject: Sun Jan 16 2022 21:31:32 GMT+0800 (台北標準時間)
1642339892000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 11:27:43
timeobject: Wed Jan 19 2022 11:27:43 GMT+0800 (台北標準時間)
1642562863000
mytime 2022-01-19 18:28:43
timeobject: Wed Jan 19 2022 18:28:43 GMT+0800 (台北標準時間)
1642588123000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 601 }

SQL query:  select * from History_601;
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '18:12:22', price: 30 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
601's history
mytime 2022-01-01 18:12:22
timeobject: Sat Jan 01 2022 18:12:22 GMT+0800 (台北標準時間)
1641031942000
mytime 2022-01-02 20:12:12
timeobject: Sun Jan 02 2022 20:12:12 GMT+0800 (台北標準時間)
1641125532000
mytime 2022-01-03 12:12:12
timeobject: Mon Jan 03 2022 12:12:12 GMT+0800 (台北標準時間)
1641183132000

connection closed...
getHistory
req.body:
{ company_id: 308 }

SQL query:  select * from History_308;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
308's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 506 }

SQL query:  select * from History_506;
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '18:12:22', price: 40 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
506's history
mytime 2022-01-01 18:12:22
timeobject: Sat Jan 01 2022 18:12:22 GMT+0800 (台北標準時間)
1641031942000
mytime 2022-01-02 20:12:12
timeobject: Sun Jan 02 2022 20:12:12 GMT+0800 (台北標準時間)
1641125532000
mytime 2022-01-03 12:12:12
timeobject: Mon Jan 03 2022 12:12:12 GMT+0800 (台北標準時間)
1641183132000

connection closed...
getHistory
req.body:
{ company_id: 303 }

SQL query:  select * from History_303;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
303's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 405 }

SQL query:  select * from History_405;
db results:
[
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-04T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-05T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
405's history
mytime 2022-01-04 18:12:22
timeobject: Tue Jan 04 2022 18:12:22 GMT+0800 (台北標準時間)
1641291142000
mytime 2022-01-05 20:12:12
timeobject: Wed Jan 05 2022 20:12:12 GMT+0800 (台北標準時間)
1641384732000
mytime 2022-01-06 12:12:12
timeobject: Thu Jan 06 2022 12:12:12 GMT+0800 (台北標準時間)
1641442332000

connection closed...
getHistory
req.body:
{ company_id: 207 }

SQL query:  select * from History_207;
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:22', price: 30 },
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '19:12:12', price: 20 },
  { Date_: 2022-01-05T16:00:00.000Z, Time_: '12:12:12', price: 25 }
]
207's history
mytime 2022-01-01 12:12:22
timeobject: Sat Jan 01 2022 12:12:22 GMT+0800 (台北標準時間)
1641010342000
mytime 2022-01-01 19:12:12
timeobject: Sat Jan 01 2022 19:12:12 GMT+0800 (台北標準時間)
1641035532000
mytime 2022-01-06 12:12:12
timeobject: Thu Jan 06 2022 12:12:12 GMT+0800 (台北標準時間)
1641442332000

connection closed...
getHistory
req.body:
{ company_id: 307 }

SQL query:  select * from History_307;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
307's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 402 }

SQL query:  select * from History_402;
db results:
[
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-04T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
402's history
mytime 2022-01-04 18:12:22
timeobject: Tue Jan 04 2022 18:12:22 GMT+0800 (台北標準時間)
1641291142000
mytime 2022-01-04 20:12:12
timeobject: Tue Jan 04 2022 20:12:12 GMT+0800 (台北標準時間)
1641298332000
mytime 2022-01-05 12:12:12
timeobject: Wed Jan 05 2022 12:12:12 GMT+0800 (台北標準時間)
1641355932000

connection closed...
getHistory
req.body:
{ company_id: 102 }

SQL query:  select * from History_102;
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:14:12', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:16:12', price: 25 }
]
102's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:14:12
timeobject: Sun Jan 02 2022 12:14:12 GMT+0800 (台北標準時間)
1641096852000
mytime 2022-01-03 12:16:12
timeobject: Mon Jan 03 2022 12:16:12 GMT+0800 (台北標準時間)
1641183372000

connection closed...
getHistory
req.body:
{ company_id: 307 }

SQL query:  select * from History_307;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
307's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 405 }

SQL query:  select * from History_405;
db results:
[
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-04T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-05T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
405's history
mytime 2022-01-04 18:12:22
timeobject: Tue Jan 04 2022 18:12:22 GMT+0800 (台北標準時間)
1641291142000
mytime 2022-01-05 20:12:12
timeobject: Wed Jan 05 2022 20:12:12 GMT+0800 (台北標準時間)
1641384732000
mytime 2022-01-06 12:12:12
timeobject: Thu Jan 06 2022 12:12:12 GMT+0800 (台北標準時間)
1641442332000

connection closed...
getHistory
req.body:
{ company_id: 303 }

SQL query:  select * from History_303;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
303's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 506 }

SQL query:  select * from History_506;
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '18:12:22', price: 40 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
506's history
mytime 2022-01-01 18:12:22
timeobject: Sat Jan 01 2022 18:12:22 GMT+0800 (台北標準時間)
1641031942000
mytime 2022-01-02 20:12:12
timeobject: Sun Jan 02 2022 20:12:12 GMT+0800 (台北標準時間)
1641125532000
mytime 2022-01-03 12:12:12
timeobject: Mon Jan 03 2022 12:12:12 GMT+0800 (台北標準時間)
1641183132000

connection closed...
getHistory
req.body:
{ company_id: 601 }

SQL query:  select * from History_601;
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '18:12:22', price: 30 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
601's history
mytime 2022-01-01 18:12:22
timeobject: Sat Jan 01 2022 18:12:22 GMT+0800 (台北標準時間)
1641031942000
mytime 2022-01-02 20:12:12
timeobject: Sun Jan 02 2022 20:12:12 GMT+0800 (台北標準時間)
1641125532000
mytime 2022-01-03 12:12:12
timeobject: Mon Jan 03 2022 12:12:12 GMT+0800 (台北標準時間)
1641183132000

connection closed...
getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '10:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '14:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '20:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '21:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '11:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '18:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 10:34:49
timeobject: Sun Jan 16 2022 10:34:49 GMT+0800 (台北標準時間)
1642300489000
mytime 2022-01-16 12:34:49
timeobject: Sun Jan 16 2022 12:34:49 GMT+0800 (台北標準時間)
1642307689000
mytime 2022-01-16 12:39:46
timeobject: Sun Jan 16 2022 12:39:46 GMT+0800 (台北標準時間)
1642307986000
mytime 2022-01-16 14:45:00
timeobject: Sun Jan 16 2022 14:45:00 GMT+0800 (台北標準時間)
1642315500000
mytime 2022-01-16 16:47:12
timeobject: Sun Jan 16 2022 16:47:12 GMT+0800 (台北標準時間)
1642322832000
mytime 2022-01-16 17:47:44
timeobject: Sun Jan 16 2022 17:47:44 GMT+0800 (台北標準時間)
1642326464000
mytime 2022-01-16 17:48:44
timeobject: Sun Jan 16 2022 17:48:44 GMT+0800 (台北標準時間)
1642326524000
mytime 2022-01-16 19:30:51
timeobject: Sun Jan 16 2022 19:30:51 GMT+0800 (台北標準時間)
1642332651000
mytime 2022-01-16 20:31:01
timeobject: Sun Jan 16 2022 20:31:01 GMT+0800 (台北標準時間)
1642336261000
mytime 2022-01-16 21:31:32
timeobject: Sun Jan 16 2022 21:31:32 GMT+0800 (台北標準時間)
1642339892000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 11:27:43
timeobject: Wed Jan 19 2022 11:27:43 GMT+0800 (台北標準時間)
1642562863000
mytime 2022-01-19 18:28:43
timeobject: Wed Jan 19 2022 18:28:43 GMT+0800 (台北標準時間)
1642588123000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '10:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '14:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '20:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '21:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '11:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '18:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 10:34:49
timeobject: Sun Jan 16 2022 10:34:49 GMT+0800 (台北標準時間)
1642300489000
mytime 2022-01-16 12:34:49
timeobject: Sun Jan 16 2022 12:34:49 GMT+0800 (台北標準時間)
1642307689000
mytime 2022-01-16 12:39:46
timeobject: Sun Jan 16 2022 12:39:46 GMT+0800 (台北標準時間)
1642307986000
mytime 2022-01-16 14:45:00
timeobject: Sun Jan 16 2022 14:45:00 GMT+0800 (台北標準時間)
1642315500000
mytime 2022-01-16 16:47:12
timeobject: Sun Jan 16 2022 16:47:12 GMT+0800 (台北標準時間)
1642322832000
mytime 2022-01-16 17:47:44
timeobject: Sun Jan 16 2022 17:47:44 GMT+0800 (台北標準時間)
1642326464000
mytime 2022-01-16 17:48:44
timeobject: Sun Jan 16 2022 17:48:44 GMT+0800 (台北標準時間)
1642326524000
mytime 2022-01-16 19:30:51
timeobject: Sun Jan 16 2022 19:30:51 GMT+0800 (台北標準時間)
1642332651000
mytime 2022-01-16 20:31:01
timeobject: Sun Jan 16 2022 20:31:01 GMT+0800 (台北標準時間)
1642336261000
mytime 2022-01-16 21:31:32
timeobject: Sun Jan 16 2022 21:31:32 GMT+0800 (台北標準時間)
1642339892000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 11:27:43
timeobject: Wed Jan 19 2022 11:27:43 GMT+0800 (台北標準時間)
1642562863000
mytime 2022-01-19 18:28:43
timeobject: Wed Jan 19 2022 18:28:43 GMT+0800 (台北標準時間)
1642588123000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
get Money
req.body:
{ user_id: '2' }

SQL query:  select money from User where user_id = 2;
get my transaction
req.body
{ user_id: '2' }
myFetch SQL query:  select company_name, MyTransaction.price, MyTransaction.num, finish_time from User, BuyOrder, MyTransaction, Company where 2 = user_id AND user_id = buser_id AND order_id = tbuy_order_id AND tstock_id = company_id;
get my order
{ user_id: '2' }
handle request user:2
myFetch SQL query:  select * from BuyOrder where buser_id=2 and Date(time)=curDate();
db results:
[ { money: 1005683 } ]
get money
result
{ status: 200, msg: 'get money', money: 1005683 }

connection closed...
result after promisePool: 
[ [ [ 5, 703, 60, 80, 2022-01-18T16:00:00.000Z, 2 ] ] ]
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[
  [
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 56, 1, 2022-01-16T15:48:01.000Z ],
    [ '資科系', 57, 1, 2022-01-16T15:48:26.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:49:53.000Z ]
  ]
]
Buy Transaction Get 
myFetch SQL query:  select company_name, MyTransaction.price, MyTransaction.num, finish_time from User, SellOrder, MyTransaction, Company where 2 = user_id AND user_id = suser_id AND order_id = tsell_order_id AND tstock_id = company_id;
result after promisePool: 
[ [ [ '資科系' ] ] ]
buy company name:
資科系
myFetch SQL query:  select * from SellOrder where suser_id=2 and Date(time)=curDate();
result after promisePool: 
[
  [
    [ 9, 703, 4, 60, 2022-01-19T02:10:10.000Z, 2 ],
    [ 10, 101, 4, 30, 2022-01-19T03:11:11.000Z, 2 ],
    [ 12, 703, 2, 90, 2022-01-19T11:43:43.000Z, 2 ]
  ]
]
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[
  [
    [ '資科系', 52, 1, 2022-01-16T15:43:39.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 54, 1, 2022-01-16T15:44:55.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:49:53.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:49:53.000Z ],
    [ '資科系', 54, 1, 2022-01-16T15:50:53.000Z ]
  ]
]
Sell Transaction Get 
callback response
{
  status: 200,
  msg: 'get transaction',
  stock_name: [
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系'
  ],
  BuyOrSell: [
    'TRUE',  'TRUE',
    'TRUE',  'TRUE',
    'TRUE',  'FALSE',
    'FALSE', 'FALSE',
    'FALSE', 'FALSE',
    'FALSE'
  ],
  TransactionPrice: [
    55, 55, 56, 57, 55,
    52, 55, 54, 55, 55,
    54
  ],
  num: [
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1
  ],
  TransactionTime: [
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:48:01.000Z,
    2022-01-16T15:48:26.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:43:39.000Z,
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:44:55.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:50:53.000Z
  ]
}
result after promisePool: 
[ [ [ '資科系' ] ] ]
sell company name:
資科系
myFetch SQL query:  select company_name from Company where company_id = 101;
result after promisePool: 
[ [ [ '中文系' ] ] ]
sell company name:
中文系
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[ [ [ '資科系' ] ] ]
sell company name:
資科系
{
  status: 200,
  msg: 'get order',
  buy_order_id: [ 5 ],
  buy_stock_id: [ 703 ],
  buy_name: [ '資科系' ],
  buy_num: [ 60 ],
  buy_price: [ 80 ],
  buy_time: [ 2022-01-18T16:00:00.000Z ],
  sell_order_id: [ 9, 10, 12 ],
  sell_stock_id: [ 703, 101, 703 ],
  sell_name: [ '資科系', '中文系', '資科系' ],
  sell_num: [ 4, 4, 2 ],
  sell_price: [ 60, 30, 90 ],
  sell_time: [
    2022-01-19T02:10:10.000Z,
    2022-01-19T03:11:11.000Z,
    2022-01-19T11:43:43.000Z
  ]
}

---callback---

post store value
req.body
{ user_id: '2' }

SQL query:  update User set money = (money + 500) where user_id = 2;
db results:
ResultSetHeader {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  info: 'Rows matched: 1  Changed: 1  Warnings: 0',
  serverStatus: 2,
  warningStatus: 0,
  changedRows: 1
}
store successsful
result
{ status: 200, msg: 'store successsful' }

connection closed...
get Money
req.body:
{ user_id: '2' }

SQL query:  select money from User where user_id = 2;
get my transaction
req.body
{ user_id: '2' }
myFetch SQL query:  select company_name, MyTransaction.price, MyTransaction.num, finish_time from User, BuyOrder, MyTransaction, Company where 2 = user_id AND user_id = buser_id AND order_id = tbuy_order_id AND tstock_id = company_id;
get my order
{ user_id: '2' }
handle request user:2
myFetch SQL query:  select * from BuyOrder where buser_id=2 and Date(time)=curDate();
db results:
[ { money: 1006183 } ]
get money
result
{ status: 200, msg: 'get money', money: 1006183 }

connection closed...
result after promisePool: 
[
  [
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 56, 1, 2022-01-16T15:48:01.000Z ],
    [ '資科系', 57, 1, 2022-01-16T15:48:26.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:49:53.000Z ]
  ]
]
Buy Transaction Get 
myFetch SQL query:  select company_name, MyTransaction.price, MyTransaction.num, finish_time from User, SellOrder, MyTransaction, Company where 2 = user_id AND user_id = suser_id AND order_id = tsell_order_id AND tstock_id = company_id;
result after promisePool: 
[ [ [ 5, 703, 60, 80, 2022-01-18T16:00:00.000Z, 2 ] ] ]
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[
  [
    [ '資科系', 52, 1, 2022-01-16T15:43:39.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:47:04.000Z ],
    [ '資科系', 54, 1, 2022-01-16T15:44:55.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:49:53.000Z ],
    [ '資科系', 55, 1, 2022-01-16T15:49:53.000Z ],
    [ '資科系', 54, 1, 2022-01-16T15:50:53.000Z ]
  ]
]
Sell Transaction Get 
callback response
{
  status: 200,
  msg: 'get transaction',
  stock_name: [
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系', '資科系',
    '資科系'
  ],
  BuyOrSell: [
    'TRUE',  'TRUE',
    'TRUE',  'TRUE',
    'TRUE',  'FALSE',
    'FALSE', 'FALSE',
    'FALSE', 'FALSE',
    'FALSE'
  ],
  TransactionPrice: [
    55, 55, 56, 57, 55,
    52, 55, 54, 55, 55,
    54
  ],
  num: [
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1
  ],
  TransactionTime: [
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:48:01.000Z,
    2022-01-16T15:48:26.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:43:39.000Z,
    2022-01-16T15:47:04.000Z,
    2022-01-16T15:44:55.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:49:53.000Z,
    2022-01-16T15:50:53.000Z
  ]
}
result after promisePool: 
[ [ [ '資科系' ] ] ]
buy company name:
資科系
myFetch SQL query:  select * from SellOrder where suser_id=2 and Date(time)=curDate();
result after promisePool: 
[
  [
    [ 9, 703, 4, 60, 2022-01-19T02:10:10.000Z, 2 ],
    [ 10, 101, 4, 30, 2022-01-19T03:11:11.000Z, 2 ],
    [ 12, 703, 2, 90, 2022-01-19T11:43:43.000Z, 2 ]
  ]
]
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[ [ [ '資科系' ] ] ]
sell company name:
資科系
myFetch SQL query:  select company_name from Company where company_id = 101;
result after promisePool: 
[ [ [ '中文系' ] ] ]
sell company name:
中文系
myFetch SQL query:  select company_name from Company where company_id = 703;
result after promisePool: 
[ [ [ '資科系' ] ] ]
sell company name:
資科系
{
  status: 200,
  msg: 'get order',
  buy_order_id: [ 5 ],
  buy_stock_id: [ 703 ],
  buy_name: [ '資科系' ],
  buy_num: [ 60 ],
  buy_price: [ 80 ],
  buy_time: [ 2022-01-18T16:00:00.000Z ],
  sell_order_id: [ 9, 10, 12 ],
  sell_stock_id: [ 703, 101, 703 ],
  sell_name: [ '資科系', '中文系', '資科系' ],
  sell_num: [ 4, 4, 2 ],
  sell_price: [ 60, 30, 90 ],
  sell_time: [
    2022-01-19T02:10:10.000Z,
    2022-01-19T03:11:11.000Z,
    2022-01-19T11:43:43.000Z
  ]
}

---callback---

getHistory
req.body:
{ company_id: 101 }

SQL query:  select * from History_101;
get all stocks
req.body
{ group_id: '[000]' }
*****group_in_set:*****
string
(000)
myFetch SQL query:  select company_id from Company where cgroup_id in (000);
db results:
[
  { Date_: 2021-12-31T16:00:00.000Z, Time_: '12:12:12', price: 10 },
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '12:12:13', price: 20 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:14:12', price: 25 }
]
101's history
mytime 2022-01-01 12:12:12
timeobject: Sat Jan 01 2022 12:12:12 GMT+0800 (台北標準時間)
1641010332000
mytime 2022-01-02 12:12:13
timeobject: Sun Jan 02 2022 12:12:13 GMT+0800 (台北標準時間)
1641096733000
mytime 2022-01-03 12:14:12
timeobject: Mon Jan 03 2022 12:14:12 GMT+0800 (台北標準時間)
1641183252000

connection closed...
result after promisePool: 
[ [] ]
No Company
subGroup_data:
[]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:36
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_203 where Date_=curDate() union select price from Stock where stock_id='203';
result after promisePool: 
[ [ [ 21 ] ] ]

203
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_401 where Date_=curDate() union select price from Stock where stock_id='401';
result after promisePool: 
[ [ [ 45 ] ] ]

401
1
myFetch SQL query:  select price from History_402 where Date_=curDate() union select price from Stock where stock_id='402';
result after promisePool: 
[ [ [ 66 ] ] ]

402
1
myFetch SQL query:  select price from History_403 where Date_=curDate() union select price from Stock where stock_id='403';
result after promisePool: 
[ [ [ 32 ] ] ]

403
1
myFetch SQL query:  select price from History_405 where Date_=curDate() union select price from Stock where stock_id='405';
result after promisePool: 
[ [ [ 70 ] ] ]

405
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_601 where Date_=curDate() union select price from Stock where stock_id='601';
result after promisePool: 
[ [ [ 76 ] ] ]

601
1
myFetch SQL query:  select price from History_701 where Date_=curDate() union select price from Stock where stock_id='701';
result after promisePool: 
[ [ [ 15 ] ] ]

701
1
myFetch SQL query:  select price from History_702 where Date_=curDate() union select price from Stock where stock_id='702';
result after promisePool: 
[ [ [ 31 ] ] ]

702
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

get all stocks
req.body
{ group_id: '[100,102,200]' }
*****group_in_set:*****
string
(100,102,200)
myFetch SQL query:  select company_id from Company where cgroup_id in (100,102,200);
result after promisePool: 
[
  [
    [ 101 ], [ 103 ],
    [ 104 ], [ 102 ],
    [ 202 ], [ 204 ],
    [ 205 ], [ 206 ],
    [ 207 ], [ 208 ],
    [ 209 ]
  ]
]
Find Companies
subGroup_data:
[
  101, 103, 104, 102,
  202, 204, 205, 206,
  207, 208, 209
]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:11
myFetch SQL query:  select price from History_101 where Date_=curDate() union select price from Stock where stock_id='101';
result after promisePool: 
[ [ [ 40 ] ] ]

101
1
myFetch SQL query:  select price from History_103 where Date_=curDate() union select price from Stock where stock_id='103';
result after promisePool: 
[ [ [ 11 ] ] ]

103
1
myFetch SQL query:  select price from History_104 where Date_=curDate() union select price from Stock where stock_id='104';
result after promisePool: 
[ [ [ 51 ] ] ]

104
1
myFetch SQL query:  select price from History_102 where Date_=curDate() union select price from Stock where stock_id='102';
result after promisePool: 
[ [ [ 64 ] ] ]

102
1
myFetch SQL query:  select price from History_202 where Date_=curDate() union select price from Stock where stock_id='202';
result after promisePool: 
[ [ [ 54 ] ] ]

202
1
myFetch SQL query:  select price from History_204 where Date_=curDate() union select price from Stock where stock_id='204';
result after promisePool: 
[ [ [ 64 ] ] ]

204
1
myFetch SQL query:  select price from History_205 where Date_=curDate() union select price from Stock where stock_id='205';
result after promisePool: 
[ [ [ 48 ] ] ]

205
1
myFetch SQL query:  select price from History_206 where Date_=curDate() union select price from Stock where stock_id='206';
result after promisePool: 
[ [ [ 10 ] ] ]

206
1
myFetch SQL query:  select price from History_207 where Date_=curDate() union select price from Stock where stock_id='207';
result after promisePool: 
[ [ [ 68 ] ] ]

207
1
myFetch SQL query:  select price from History_208 where Date_=curDate() union select price from Stock where stock_id='208';
result after promisePool: 
[ [ [ 29 ] ] ]

208
1
myFetch SQL query:  select price from History_209 where Date_=curDate() union select price from Stock where stock_id='209';
result after promisePool: 
[ [ [ 43 ] ] ]

209
1
awaited all promises

---callback---

get all stocks
req.body
{ group_id: '[300,500,703]' }
*****group_in_set:*****
string
(300,500,703)
myFetch SQL query:  select company_id from Company where cgroup_id in (300,500,703);
result after promisePool: 
[
  [
    [ 301 ], [ 302 ], [ 303 ],
    [ 304 ], [ 305 ], [ 306 ],
    [ 307 ], [ 308 ], [ 501 ],
    [ 502 ], [ 504 ], [ 506 ],
    [ 507 ], [ 508 ], [ 509 ],
    [ 510 ], [ 703 ]
  ]
]
Find Companies
subGroup_data:
[
  301, 302, 303, 304, 305,
  306, 307, 308, 501, 502,
  504, 506, 507, 508, 509,
  510, 703
]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:17
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_501 where Date_=curDate() union select price from Stock where stock_id='501';
result after promisePool: 
[ [ [ 33 ] ] ]

501
1
myFetch SQL query:  select price from History_502 where Date_=curDate() union select price from Stock where stock_id='502';
result after promisePool: 
[ [ [ 15 ] ] ]

502
1
myFetch SQL query:  select price from History_504 where Date_=curDate() union select price from Stock where stock_id='504';
result after promisePool: 
[ [ [ 43 ] ] ]

504
1
myFetch SQL query:  select price from History_506 where Date_=curDate() union select price from Stock where stock_id='506';
result after promisePool: 
[ [ [ 75 ] ] ]

506
1
myFetch SQL query:  select price from History_507 where Date_=curDate() union select price from Stock where stock_id='507';
result after promisePool: 
[ [ [ 27 ] ] ]

507
1
myFetch SQL query:  select price from History_508 where Date_=curDate() union select price from Stock where stock_id='508';
result after promisePool: 
[ [ [ 25 ] ] ]

508
1
myFetch SQL query:  select price from History_509 where Date_=curDate() union select price from Stock where stock_id='509';
result after promisePool: 
[ [ [ 47 ] ] ]

509
1
myFetch SQL query:  select price from History_510 where Date_=curDate() union select price from Stock where stock_id='510';
result after promisePool: 
[ [ [ 23 ] ] ]

510
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 306 }

SQL query:  select * from History_306;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
306's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 308 }

SQL query:  select * from History_308;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
308's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 307 }

SQL query:  select * from History_307;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
307's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 501 }

SQL query:  select * from History_501;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '12:12:12', price: 45 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '18:26:29', price: 49 }
]
501's history
mytime 2022-01-02 20:12:12
timeobject: Sun Jan 02 2022 20:12:12 GMT+0800 (台北標準時間)
1641125532000
mytime 2022-01-03 12:12:12
timeobject: Mon Jan 03 2022 12:12:12 GMT+0800 (台北標準時間)
1641183132000
mytime 2022-01-04 18:26:29
timeobject: Tue Jan 04 2022 18:26:29 GMT+0800 (台北標準時間)
1641291989000

connection closed...
getHistory
req.body:
{ company_id: 302 }

SQL query:  select * from History_302;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
302's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 302 }

SQL query:  select * from History_302;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
302's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 302 }

SQL query:  select * from History_302;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
302's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
getHistory
req.body:
{ company_id: 301 }

SQL query:  select * from History_301;
db results:
[
  { Date_: 2022-01-01T16:00:00.000Z, Time_: '18:12:22', price: 60 },
  { Date_: 2022-01-02T16:00:00.000Z, Time_: '20:12:12', price: 50 },
  { Date_: 2022-01-03T16:00:00.000Z, Time_: '12:12:12', price: 45 }
]
301's history
mytime 2022-01-02 18:12:22
timeobject: Sun Jan 02 2022 18:12:22 GMT+0800 (台北標準時間)
1641118342000
mytime 2022-01-03 20:12:12
timeobject: Mon Jan 03 2022 20:12:12 GMT+0800 (台北標準時間)
1641211932000
mytime 2022-01-04 12:12:12
timeobject: Tue Jan 04 2022 12:12:12 GMT+0800 (台北標準時間)
1641269532000

connection closed...
get all stocks
req.body
{ group_id: '[300,703]' }
*****group_in_set:*****
string
(300,703)
myFetch SQL query:  select company_id from Company where cgroup_id in (300,703);
result after promisePool: 
[
  [
    [ 301 ], [ 302 ],
    [ 303 ], [ 304 ],
    [ 305 ], [ 306 ],
    [ 307 ], [ 308 ],
    [ 703 ]
  ]
]
Find Companies
subGroup_data:
[
  301, 302, 303,
  304, 305, 306,
  307, 308, 703
]
myFetch SQL query:  select price, company_name, company_id from Stock, Company where Stock.scompany_id=Company.company_id;
result after promisePool: 
[
  [
    [ 40, '中文系', 101 ],
    [ 64, '教育系', 102 ],
    [ 11, '歷史系', 103 ],
    [ 51, '哲學系', 104 ],
    [ 54, '政治系', 202 ],
    [ 21, '外交系', 203 ],
    [ 64, '社會系', 204 ],
    [ 48, '財政系', 205 ],
    [ 10, '公行系', 206 ],
    [ 68, '地政系 ', 207 ],
    [ 29, '經濟系', 208 ],
    [ 43, '民族系', 209 ],
    [ 28, '國貿系', 301 ],
    [ 61, '金融系', 302 ],
    [ 70, '會計系', 303 ],
    [ 13, '統計系', 304 ],
    [ 40, '企管系', 305 ],
    [ 35, '資管系', 306 ],
    [ 69, '財管系', 307 ],
    [ 80, '風管系', 308 ],
    [ 45, '新聞系', 401 ],
    [ 66, '廣告系', 402 ],
    [ 32, '廣電系', 403 ],
    [ 70, '傳院不分系', 405 ],
    [ 33, '英文系', 501 ],
    [ 15, '阿語系', 502 ],
    [ 43, '斯語系', 504 ],
    [ 75, '日文系', 506 ],
    [ 27, '韓文系', 507 ],
    [ 25, '土文系', 508 ],
    [ 47, '歐語系', 509 ],
    [ 23, '東南學', 510 ],
    [ 76, '法律系', 601 ],
    [ 15, '應數系', 701 ],
    [ 31, '心理系', 702 ],
    [ 100, '資科系', 703 ]
  ]
]
data id length:9
myFetch SQL query:  select price from History_301 where Date_=curDate() union select price from Stock where stock_id='301';
result after promisePool: 
[ [ [ 28 ] ] ]

301
1
myFetch SQL query:  select price from History_302 where Date_=curDate() union select price from Stock where stock_id='302';
result after promisePool: 
[ [ [ 61 ] ] ]

302
1
myFetch SQL query:  select price from History_303 where Date_=curDate() union select price from Stock where stock_id='303';
result after promisePool: 
[ [ [ 70 ] ] ]

303
1
myFetch SQL query:  select price from History_304 where Date_=curDate() union select price from Stock where stock_id='304';
result after promisePool: 
[ [ [ 13 ] ] ]

304
1
myFetch SQL query:  select price from History_305 where Date_=curDate() union select price from Stock where stock_id='305';
result after promisePool: 
[ [ [ 40 ] ] ]

305
1
myFetch SQL query:  select price from History_306 where Date_=curDate() union select price from Stock where stock_id='306';
result after promisePool: 
[ [ [ 35 ] ] ]

306
1
myFetch SQL query:  select price from History_307 where Date_=curDate() union select price from Stock where stock_id='307';
result after promisePool: 
[ [ [ 69 ] ] ]

307
1
myFetch SQL query:  select price from History_308 where Date_=curDate() union select price from Stock where stock_id='308';
result after promisePool: 
[ [ [ 80 ] ] ]

308
1
myFetch SQL query:  select price from History_703 where Date_=curDate() union select price from Stock where stock_id='703';
result after promisePool: 
[ [ [ 88 ], [ 95 ], [ 100 ] ] ]

703
3
awaited all promises

---callback---

getHistory
req.body:
{ company_id: 703 }

SQL query:  select * from History_703;
db results:
[
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '10:34:49', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:34:49', price: 40 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '12:39:46', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '14:45:00', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '16:47:12', price: 60 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:47:44', price: 61 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '17:48:44', price: 59 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '19:30:51', price: 58 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '20:31:01', price: 57 },
  { Date_: 2022-01-15T16:00:00.000Z, Time_: '21:31:32', price: 56 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:32:40', price: 55 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '09:35:59', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:22:53', price: 53 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '10:23:23', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '11:24:36', price: 59 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '12:27:45', price: 63 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '13:30:15', price: 65 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '14:30:45', price: 58 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:50:48', price: 51 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:51:30', price: 54 },
  { Date_: 2022-01-16T16:00:00.000Z, Time_: '17:56:23', price: 59 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '09:43:39', price: 69 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '10:44:03', price: 73 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '11:44:55', price: 77 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '12:47:04', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '13:48:01', price: 56 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '14:48:26', price: 57 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '16:48:56', price: 68 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '18:49:53', price: 75 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '20:50:53', price: 78 },
  { Date_: 2022-01-17T16:00:00.000Z, Time_: '23:51:41', price: 80 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '11:27:43', price: 88 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '18:28:43', price: 95 },
  { Date_: 2022-01-18T16:00:00.000Z, Time_: '19:29:47', price: 100 }
]
703's history
mytime 2022-01-16 10:34:49
timeobject: Sun Jan 16 2022 10:34:49 GMT+0800 (台北標準時間)
1642300489000
mytime 2022-01-16 12:34:49
timeobject: Sun Jan 16 2022 12:34:49 GMT+0800 (台北標準時間)
1642307689000
mytime 2022-01-16 12:39:46
timeobject: Sun Jan 16 2022 12:39:46 GMT+0800 (台北標準時間)
1642307986000
mytime 2022-01-16 14:45:00
timeobject: Sun Jan 16 2022 14:45:00 GMT+0800 (台北標準時間)
1642315500000
mytime 2022-01-16 16:47:12
timeobject: Sun Jan 16 2022 16:47:12 GMT+0800 (台北標準時間)
1642322832000
mytime 2022-01-16 17:47:44
timeobject: Sun Jan 16 2022 17:47:44 GMT+0800 (台北標準時間)
1642326464000
mytime 2022-01-16 17:48:44
timeobject: Sun Jan 16 2022 17:48:44 GMT+0800 (台北標準時間)
1642326524000
mytime 2022-01-16 19:30:51
timeobject: Sun Jan 16 2022 19:30:51 GMT+0800 (台北標準時間)
1642332651000
mytime 2022-01-16 20:31:01
timeobject: Sun Jan 16 2022 20:31:01 GMT+0800 (台北標準時間)
1642336261000
mytime 2022-01-16 21:31:32
timeobject: Sun Jan 16 2022 21:31:32 GMT+0800 (台北標準時間)
1642339892000
mytime 2022-01-17 09:32:40
timeobject: Mon Jan 17 2022 09:32:40 GMT+0800 (台北標準時間)
1642383160000
mytime 2022-01-17 09:35:59
timeobject: Mon Jan 17 2022 09:35:59 GMT+0800 (台北標準時間)
1642383359000
mytime 2022-01-17 10:22:53
timeobject: Mon Jan 17 2022 10:22:53 GMT+0800 (台北標準時間)
1642386173000
mytime 2022-01-17 10:23:23
timeobject: Mon Jan 17 2022 10:23:23 GMT+0800 (台北標準時間)
1642386203000
mytime 2022-01-17 11:24:36
timeobject: Mon Jan 17 2022 11:24:36 GMT+0800 (台北標準時間)
1642389876000
mytime 2022-01-17 12:27:45
timeobject: Mon Jan 17 2022 12:27:45 GMT+0800 (台北標準時間)
1642393665000
mytime 2022-01-17 13:30:15
timeobject: Mon Jan 17 2022 13:30:15 GMT+0800 (台北標準時間)
1642397415000
mytime 2022-01-17 14:30:45
timeobject: Mon Jan 17 2022 14:30:45 GMT+0800 (台北標準時間)
1642401045000
mytime 2022-01-17 17:50:48
timeobject: Mon Jan 17 2022 17:50:48 GMT+0800 (台北標準時間)
1642413048000
mytime 2022-01-17 17:51:30
timeobject: Mon Jan 17 2022 17:51:30 GMT+0800 (台北標準時間)
1642413090000
mytime 2022-01-17 17:56:23
timeobject: Mon Jan 17 2022 17:56:23 GMT+0800 (台北標準時間)
1642413383000
mytime 2022-01-18 09:43:39
timeobject: Tue Jan 18 2022 09:43:39 GMT+0800 (台北標準時間)
1642470219000
mytime 2022-01-18 10:44:03
timeobject: Tue Jan 18 2022 10:44:03 GMT+0800 (台北標準時間)
1642473843000
mytime 2022-01-18 11:44:55
timeobject: Tue Jan 18 2022 11:44:55 GMT+0800 (台北標準時間)
1642477495000
mytime 2022-01-18 12:47:04
timeobject: Tue Jan 18 2022 12:47:04 GMT+0800 (台北標準時間)
1642481224000
mytime 2022-01-18 13:48:01
timeobject: Tue Jan 18 2022 13:48:01 GMT+0800 (台北標準時間)
1642484881000
mytime 2022-01-18 14:48:26
timeobject: Tue Jan 18 2022 14:48:26 GMT+0800 (台北標準時間)
1642488506000
mytime 2022-01-18 16:48:56
timeobject: Tue Jan 18 2022 16:48:56 GMT+0800 (台北標準時間)
1642495736000
mytime 2022-01-18 18:49:53
timeobject: Tue Jan 18 2022 18:49:53 GMT+0800 (台北標準時間)
1642502993000
mytime 2022-01-18 20:50:53
timeobject: Tue Jan 18 2022 20:50:53 GMT+0800 (台北標準時間)
1642510253000
mytime 2022-01-18 23:51:41
timeobject: Tue Jan 18 2022 23:51:41 GMT+0800 (台北標準時間)
1642521101000
mytime 2022-01-19 11:27:43
timeobject: Wed Jan 19 2022 11:27:43 GMT+0800 (台北標準時間)
1642562863000
mytime 2022-01-19 18:28:43
timeobject: Wed Jan 19 2022 18:28:43 GMT+0800 (台北標準時間)
1642588123000
mytime 2022-01-19 19:29:47
timeobject: Wed Jan 19 2022 19:29:47 GMT+0800 (台北標準時間)
1642591787000

connection closed...
